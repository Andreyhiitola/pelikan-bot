# üåø GIT WORKFLOW –î–õ–Ø –î–û–ë–ê–í–õ–ï–ù–ò–Ø –ê–ù–ê–õ–ò–¢–ò–ö–ò

## –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–µ—Ç–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

```bash
cd ~/Desktop/pelikan-hotel-bot

# 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ main –∏ –≤—Å–µ –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ
git status
git add .
git commit -m "–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∞–Ω–∞–ª–∏—Ç–∏–∫–∏" || true

# 2. –°–æ–∑–¥–∞–π—Ç–µ –∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ç–∫—É
git checkout -b feature/analytics

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–∞ –Ω–æ–≤–æ–π –≤–µ—Ç–∫–µ
git branch
# –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–≤–µ–∑–¥–æ—á–∫–∞ —É feature/analytics
```

---

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

```bash
# 4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
# (analytics_handler.py, analytics_commands.py, requirements.txt, Dockerfile)

# 5. –û–±–Ω–æ–≤–∏—Ç–µ bot.py (–¥–æ–±–∞–≤—å—Ç–µ 3 —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ - —Å–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)
nano bot.py

# 6. –û–±–Ω–æ–≤–∏—Ç–µ .env (–¥–æ–±–∞–≤—å—Ç–µ SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
nano .env

# 7. –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã –≤ Git
git add analytics_handler.py
git add analytics_commands.py
git add requirements.txt
git add Dockerfile
git add bot.py

# 8. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±—É–¥–µ—Ç –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ
git status

# 9. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git commit -m "feat: –¥–æ–±–∞–≤–ª–µ–Ω –º–æ–¥—É–ª—å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –æ—Ç–∑—ã–≤–æ–≤

- –î–æ–±–∞–≤–ª–µ–Ω analytics_handler.py: —Å–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω analytics_commands.py: –∫–æ–º–∞–Ω–¥—ã /analytics –∏ /test_report
- –û–±–Ω–æ–≤–ª–µ–Ω requirements.txt: matplotlib, numpy, apscheduler
- –û–±–Ω–æ–≤–ª–µ–Ω Dockerfile: –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π
- –û–±–Ω–æ–≤–ª–µ–Ω bot.py: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–µ—Ä–∞ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
- –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –≤ 8:00 –≤ Telegram –∏ –Ω–∞ email"
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –Ω–æ–≤–æ–π –≤–µ—Ç–∫–µ

```bash
# 10. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞ –Ω–æ–≤–æ–π –≤–µ—Ç–∫–µ
docker-compose down
docker-compose build --no-cache
docker-compose up -d

# 11. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker logs -f pelikan-bot

# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
# ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
# ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Ç—á–µ—Ç–æ–≤ –∑–∞–ø—É—â–µ–Ω (–æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ 8:00)

# 12. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ Telegram
# /test_report

# 13. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
# - –ü–æ–ª—É—á–∏–ª–∏ –æ—Ç—á–µ—Ç –≤ Telegram? ‚úÖ
# - –ü—Ä–∏—à–µ–ª email –Ω–∞ regsk@mail.ru? ‚úÖ
# - –í—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ? ‚úÖ
```

---

## –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç - –º–µ—Ä–¥–∂ –≤ main

```bash
# 14. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ main
git checkout main

# 15. –°–º–µ—Ä–¥—å—Ç–µ –≤–µ—Ç–∫—É feature/analytics
git merge feature/analytics

# 16. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞ GitHub
git push origin main
git push origin feature/analytics

# 17. GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç
# Watchtower –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç
```

---

## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å - –æ—Ç–∫–∞—Ç

```bash
# –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ main (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
git checkout main

# –£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –≤–µ—Ç–∫—É (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
git branch -D feature/analytics

# –û—Ç–∫–∞—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
git checkout main
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–µ—Ç–æ–∫

```
main (production)
‚îú‚îÄ‚îÄ feature/order-buttons (—Å—Ç–∞—Ä–∞—è –≤–µ—Ç–∫–∞)
‚îî‚îÄ‚îÄ feature/analytics (–Ω–æ–≤–∞—è –≤–µ—Ç–∫–∞ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π)
```

---

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–±–æ—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ç–∫—É
git branch

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –≤–µ—Ç–∫—É
git checkout feature/analytics
git checkout main

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git status
git diff

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é
git log --oneline --graph --all

# –û—Ç–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ (–µ—Å–ª–∏ –Ω–µ –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ)
git checkout -- filename

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –≤–µ—Ç–∫–µ
git diff main..feature/analytics
```

---

## .gitignore (–Ω–µ –∑–∞–±—É–¥—å—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å)

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.gitignore` –µ—Å—Ç—å:

```
# –°–µ–∫—Ä–µ—Ç—ã
.env
*.env

# –î–∞–Ω–Ω—ã–µ
data/
*.db
*.db-journal

# Python
__pycache__/
*.pyc
*.pyo
*.egg-info/

# IDE
.vscode/
.idea/
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û: .env –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞—Å—Ç—å –≤ Git!

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ .env –Ω–µ –≤ Git
git status | grep .env

# –ï—Å–ª–∏ .env —Å–ª—É—á–∞–π–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω - —É–¥–∞–ª–∏—Ç–µ –∏–∑ –∏–Ω–¥–µ–∫—Å–∞
git rm --cached .env
git commit -m "–£–¥–∞–ª—ë–Ω .env –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è"

# –î–æ–±–∞–≤—å—Ç–µ –≤ .gitignore
echo ".env" >> .gitignore
git add .gitignore
git commit -m "–î–æ–±–∞–≤–ª–µ–Ω .env –≤ .gitignore"
```

---

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π workflow

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É
git checkout -b feature/analytics

# 2. –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
# (–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥)

# 3. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
git add .
git commit -m "feat: –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"

# 4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
docker-compose down
docker-compose build --no-cache
docker-compose up -d
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram

# 5. –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç - –º–µ—Ä–¥–∂ –≤ main
git checkout main
git merge feature/analytics
git push

# 6. –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ñ–∏–∫—Å—ã –≤ –≤–µ—Ç–∫–µ
git checkout feature/analytics
# ... –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è ...
git add .
git commit -m "fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã"
# –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```

---

## üéØ –ö–†–ê–¢–ö–ê–Ø –ö–û–ú–ê–ù–î–ê –î–õ–Ø –°–¢–ê–†–¢–ê

```bash
cd ~/Desktop/pelikan-hotel-bot
git checkout -b feature/analytics
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã
# –û–±–Ω–æ–≤–∏—Ç–µ bot.py –∏ .env
git add .
git status
git commit -m "feat: –¥–æ–±–∞–≤–ª–µ–Ω –º–æ–¥—É–ª—å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –æ—Ç–∑—ã–≤–æ–≤"
docker-compose down && docker-compose build --no-cache && docker-compose up -d
docker logs -f pelikan-bot
```

–ì–æ—Ç–æ–≤–æ! –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤–µ—Ç–∫–µ üåø
